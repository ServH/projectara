<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîß Debug Renderizado - Project Ara</title>
    <link rel="stylesheet" href="css/main.css">
    <style>
        .debug-info {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
            z-index: 1000;
        }
        
        /* üîß ESTILOS B√ÅSICOS PARA DEBUG */
        .planet-body {
            stroke: #ffffff;
            stroke-width: 1;
            opacity: 1 !important;
        }
        
        .planet-ships {
            fill: #ffffff !important;
            font-size: 12px !important;
            font-weight: bold !important;
            text-anchor: middle !important;
            dominant-baseline: central !important;
            pointer-events: none !important;
        }
        
        .planet.player .planet-body {
            fill: #00ff88 !important;
        }
        
        .planet.ai .planet-body {
            fill: #ff4444 !important;
        }
        
        .planet.neutral .planet-body {
            fill: #888888 !important;
        }
    </style>
</head>
<body>
    <!-- HUD Superior -->
    <div class="top-bar">
        <div class="hud-section">
            <div class="hud-item">
                <span class="hud-label">üîß DEBUG:</span>
                <span class="hud-value" id="debugStatus">Iniciando...</span>
            </div>
        </div>
    </div>

    <!-- √Årea de Juego -->
    <div class="game-area">
        <svg id="gameCanvas" width="100%" height="100%"></svg>
    </div>

    <!-- Info de Debug -->
    <div class="debug-info" id="debugInfo">
        <h4>üîß Debug Info</h4>
        <div id="debugContent">Cargando...</div>
    </div>

    <!-- Scripts -->
    <script type="module">
        import GameEngine from './src/core/GameEngine.js';
        import Renderer from './src/visual/Renderer.js';

        console.log('üîß Iniciando debug de renderizado...');

        try {
            // Inicializar solo GameEngine y Renderer
            const gameEngine = new GameEngine();
            const renderer = new Renderer(gameEngine);

            // Inicializar sistemas
            gameEngine.init();
            renderer.start();

            document.getElementById('debugStatus').textContent = 'Funcionando';

            // Funci√≥n de debug
            function updateDebugInfo() {
                const renderData = gameEngine.getRenderData();
                const debugContent = document.getElementById('debugContent');
                
                let info = `
                    <strong>Planetas:</strong> ${renderData.planets.length}<br>
                    <strong>Flotas:</strong> ${renderData.fleets.length}<br>
                    <strong>Estado:</strong> ${renderData.gameState}<br>
                    <strong>FPS:</strong> ${Math.round(renderData.stats.fps)}<br>
                    <br>
                    <strong>Primeros 3 planetas:</strong><br>
                `;
                
                renderData.planets.slice(0, 3).forEach((planet, i) => {
                    info += `${i+1}. ${planet.id}: ${planet.owner} (${planet.ships} naves)<br>`;
                    info += `   Color: ${planet.color}<br>`;
                    info += `   Pos: (${Math.round(planet.x)}, ${Math.round(planet.y)})<br>`;
                });
                
                debugContent.innerHTML = info;
            }

            // Actualizar debug cada segundo
            setInterval(updateDebugInfo, 1000);
            updateDebugInfo(); // Primera actualizaci√≥n inmediata

            console.log('‚úÖ Debug iniciado correctamente');

        } catch (error) {
            console.error('‚ùå Error en debug:', error);
            document.getElementById('debugStatus').textContent = 'ERROR';
            document.getElementById('debugContent').innerHTML = `
                <strong>Error:</strong> ${error.message}<br>
                <strong>Stack:</strong><br>
                <pre style="font-size: 10px;">${error.stack}</pre>
            `;
        }
    </script>
</body>
</html> 