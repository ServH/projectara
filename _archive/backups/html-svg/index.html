<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🚀 Galcon Game - Space Conquest</title>
    
    <!-- OPTIMIZACIÓN: CSS separado para mejor caching y parsing -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/ui-styles.css">
    
    <!-- Favicon optimizado -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🚀</text></svg>">
    
    <!-- OPTIMIZACIÓN: Preload de módulos críticos -->
    <link rel="modulepreload" href="src/ui/GameLoader.js">
    <link rel="modulepreload" href="src/core/GameEngine.js">
    <link rel="modulepreload" href="src/visual/Renderer.js">
</head>
<body>
    <!-- Pantalla de carga -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-title">🚀 GALCON</div>
        <div class="loading-subtitle">Space Conquest Game</div>
        <div class="loading-spinner"></div>
        <div class="loading-progress">
            <div id="loadingProgressBar" class="loading-progress-bar"></div>
        </div>
        <div id="loadingStatus" class="loading-status">Inicializando sistemas...</div>
    </div>

    <!-- Barra superior - HUD -->
    <div class="top-bar" style="display: none;" id="topBar">
        <div class="game-title">
            <span>🚀</span>
            <span>GALCON</span>
        </div>
        
        <div class="stats-container">
            <div class="stat-group">
                <div class="stat-label">Planetas</div>
                <div class="stat-value" id="hud-planets">-</div>
            </div>
            <div class="stat-group">
                <div class="stat-label">Flotas</div>
                <div class="stat-value" id="hud-fleets">-</div>
            </div>
            <div class="stat-group">
                <div class="stat-label">Porcentaje</div>
                <div class="stat-value" id="hud-percentage" style="color: #00ff88;">50%</div>
            </div>
            <div class="stat-group">
                <div class="stat-label">FPS</div>
                <div class="stat-value" id="hud-fps">-</div>
            </div>
        </div>
        
        <div class="game-status">
            <div class="status-indicator" id="statusIndicator"></div>
            <span id="hud-state">-</span>
        </div>
    </div>

    <!-- Área de juego -->
    <div class="game-area">
        <!-- Canvas se crea dinámicamente aquí -->
    </div>

    <!-- Barra inferior - Controles -->
    <div class="bottom-bar">
        <div class="controls-left">
            <div class="control-group">
                <span class="control-key">Drag</span>
                <span>Seleccionar múltiple</span>
            </div>
            <div class="control-group">
                <span class="control-key">Ctrl+Click</span>
                <span>Añadir/quitar selección</span>
            </div>
            <div class="control-group">
                <span class="control-key">Shift+Click</span>
                <span>Seleccionar todos</span>
            </div>
            <div class="control-group">
                <span class="control-key">Doble Click</span>
                <span>Seleccionar todos</span>
            </div>
            <div class="control-group">
                <span class="control-key">Clic Derecho</span>
                <span>Envío rápido</span>
            </div>
        </div>
        
        <div class="selection-info">
            <span>Seleccionados:</span>
            <span class="selected-count" id="hud-selected">0</span>
        </div>
        
        <div class="controls-right">
            <div class="control-group">
                <span class="control-key">1-4</span>
                <span>Porcentaje (25%, 50%, 75%, 100%)</span>
            </div>
            <div class="control-group">
                <span class="control-key">Rueda</span>
                <span>Cambiar porcentaje</span>
            </div>
            <div class="control-group">
                <span class="control-key">F1</span>
                <span>Debug</span>
            </div>
            <div class="control-group">
                <span class="control-key">F5</span>
                <span>Reiniciar</span>
            </div>
            <div class="control-group">
                <span class="control-key">ESC</span>
                <span>Pausa</span>
            </div>
        </div>
    </div>

    <!-- Panel de debug -->
    <div id="debugPanel" class="debug-panel hidden">
        <div class="debug-title">🐛 DEBUG INFO</div>
        <div id="debugContent"></div>
    </div>

    <!-- OPTIMIZACIÓN: JavaScript separado y modular -->
    <script type="module">
        // OPTIMIZACIÓN: Importación dinámica del GameLoader optimizado
        import { GameLoader } from './src/ui/GameLoader.js';
        
        // OPTIMIZACIÓN: Inicialización simplificada sin código inline
        const gameLoader = new GameLoader();
        gameLoader.load();
    </script>
</body>
</html> 