<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🧪 Test Simple - Project Ara</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <!-- HUD Superior -->
    <div class="top-bar">
        <div class="hud-section">
            <div class="hud-item">
                <span class="hud-label">🪐 Planetas:</span>
                <span class="hud-value" id="planetsCount">0</span>
            </div>
            <div class="hud-item">
                <span class="hud-label">🚀 Flotas:</span>
                <span class="hud-value" id="fleetsCount">0</span>
            </div>
            <div class="hud-item">
                <span class="hud-label">📊 FPS:</span>
                <span class="hud-value" id="fpsCounter">60</span>
            </div>
        </div>
        
        <div class="percentage-selector">
            <span class="percentage-label">Envío:</span>
            <span class="percentage-value" id="percentageDisplay">100%</span>
        </div>
    </div>

    <!-- Área de Juego -->
    <div class="game-area">
        <svg id="gameCanvas" width="100%" height="100%"></svg>
    </div>

    <!-- Controles Inferiores -->
    <div class="bottom-bar">
        <div class="controls-section">
            <div class="control-group">
                <span class="control-label">Test Simple:</span>
                <span class="control-key">F1</span> Debug
                <span class="control-key">F5</span> Reiniciar
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module">
        import GameEngine from './src/core/GameEngine.js';
        import Renderer from './src/visual/Renderer.js';
        import SelectionSystem from './src/systems/SelectionSystem.js';
        import DragDropHandler from './src/input/DragDropHandler.js';

        console.log('🧪 Iniciando test simple...');

        try {
            // Inicializar juego
            const gameEngine = new GameEngine();
            const renderer = new Renderer(gameEngine);
            const selectionSystem = new SelectionSystem(gameEngine);
            const dragDropHandler = new DragDropHandler(gameEngine);

            // Inicializar sistemas
            gameEngine.init();
            renderer.start();

            console.log('✅ Test simple completado exitosamente');

            // Actualizar HUD cada segundo
            setInterval(() => {
                const debugInfo = gameEngine.getDebugInfo();
                document.getElementById('planetsCount').textContent = debugInfo.planetsCount;
                document.getElementById('fleetsCount').textContent = debugInfo.fleetsCount;
                document.getElementById('fpsCounter').textContent = Math.round(debugInfo.stats.fps);
            }, 1000);

        } catch (error) {
            console.error('❌ Error en test simple:', error);
            document.body.innerHTML = `
                <div style="color: red; padding: 20px; font-family: monospace;">
                    <h2>❌ Error en Test Simple</h2>
                    <p><strong>Mensaje:</strong> ${error.message}</p>
                    <p><strong>Stack:</strong></p>
                    <pre>${error.stack}</pre>
                </div>
            `;
        }
    </script>
</body>
</html> 